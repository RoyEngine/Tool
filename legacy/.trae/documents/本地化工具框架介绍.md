你是一名程序测试员，需要对执行以下测试，测试过程中遵守：

1. 基础规范​
   1.1 全程使用中文沟通与文档编写​
   1.2 优先采用 Python 脚本实现批量操作​
   1.3 资源获取优先选择阿里云等镜像站​
   1.4 适配  Windows 系统，兼顾跨平台兼容性​
2. 代码要求​
   2.1 严格遵循 PEP 8 代码风格​
   2.2 必须添加类型注解​
   2.3 优先使用官方标准库函数​
   2.4 所有脚本采用相对路径编写​
3. 测试与质量​
   3.1 编写单元测试，包含自动化验证逻辑​
   3.2 确保代码在多操作系统下正常运行​
   3.3 维持清晰、规范的 Git Commit 信息​
4. 项目结构​
   4.1 脚本按标准目录结构存放​
   4.2 tool 目录下每个资源需配套 README 文件​
   4.3 README 需说明资源来源、使用方法等关键信息
5. 对话规范
   5.1 适度使用emoji表情，增强沟通效率
   5.2 保持对话的连贯性，避免跳跃性问题
   5.3 避免使用专业术语，保持对话的通俗易懂
6. 测试路径规范
   6.1 确保程序可以准确识别到以下目录，不会对父目录提取或者映射，再次分析是否有文件夹创建，读取，写入位置错误。分析现有功能是否有文件夹读取位置或者输出位置有问题。  

   mod_name为放入的文件夹名，这个文件夹的名字需要通过解析文件夹下的mod_info.json文件获取。一般情况为mod_info.json文件中"name"字段的值加上version字段的值。
   以下文件夹均不会被破坏，如果测试过程中文件夹被破坏，那么该步骤的路径选择就一定是错的，需要修改程序。

   测试任务为：
   执行本地化工具中的每一个完整流程(非简化版)时，必须确保完整运行并验证最终结果的正确性。不仅要关注流程本身的执行状态，更要严格检查预期的输出结果是否正常生成。禁止仅通过命令行模拟输出结果，所有操作必须对实际文件系统进行真实读写操作。执行完成后，需确认目标文件已按预期创建、修改或删除，并验证文件内容的准确性和完整性。

   D:\Poki\Tool\Localization_File为用户实际情况会使用的文件夹，直接使用这个目录进行测试。
   测试文件夹(用户实际使用的场景)为：

* `Localization_File/source/English/mod_name/src/` (源代码目录)

* `Localization_File/source/English/mod_name/mod.jar` (JAR文件名字不固定)

* `Localization_File/source/English/mod_name/jar/` (JAR反编译输出)

* `Localization_File/source/Chinese/mod_name/src/` (源代码目录)

* `Localization_File/source/Chinese/mod_name/mod.jar` (JAR文件名字不固定)

* `Localization_File/source/Chinese/mod_name/jar/` (JAR反编译输出)

* `Localization_File/source_backup/English/mod_name/src/` (源代码目录)

* `Localization_File/source_backup/English/mod_name/mod.jar` (JAR文件名字不固定)

* `Localization_File/source_backup/English/mod_name/jar/` (JAR反编译输出)

* `Localization_File/source_backup/Chinese/mod_name/src/` (源代码目录)

* `Localization_File/source_backup/Chinese/mod_name/mod.jar` (JAR文件名字不固定)

* `Localization_File/source_backup/Chinese/mod_name/jar/` (JAR反编译输出)

* `Localization_File/rule/English/mod_name/` (English_mappings.yaml + English_mappings.json + mod_info.json)

* `Localization_File/rule/Chinese/mod_name/` (Chinese_mappings.yaml + Chinese_mappings.json + mod_info.json)

* `Localization_File/output/Extract_Chinese/mod_name/` (Chinese_mappings.yaml + Chinese_mappings.json + mod_info.json + extract_20251212_220500_report.json)

* `Localization_File/output/Extract_English/mod_name/` (English_mappings.yaml + English_mappings.json + mod_info.json + extract_20251212_220500_report.json)

* `Localization_File/output/Extend_en2zh/mod_name/` ((被映射的文件夹的全部内容，需要提前复制，映射过程不在被映射文件夹原来的位置，被映射的位置改为这个位置) + 字符串映射规则文件(Chinese_mappings.yaml + Chinese_mappings.json，提取的是被映射后目录的中文字符串映射规则文件，查询哪些字符串没有被映射成中文) + extend_20251212_220500_report.json - 流程报告(含检测结果、执行步骤、耗时))

* `Localization_File/output/Extend_zh2en/mod_name/` ((被映射的文件夹的全部内容，需要提前复制，映射过程不在被映射文件夹原来的位置，被映射的位置改为这个位置) + 字符串映射规则文件(English_mappings.yaml + English_mappings.json，提取的是被映射后目录的英文字符串映射规则文件，查询哪些字符串没有被映射成英文) + extend_20251212_220500_report.json - 流程报告(含检测结果、执行步骤、耗时))


2.请确保在执行测试之前，已经创建了所有需要的文件夹，否则测试过程中会报错。这些文件夹应该写入user_rules.md文件中。还需要确保所有的文件夹能够在程序启动后自动创建，创建前需要先检查，如果存在就不需要创建。
以下是全部要创建的文件夹，没有其他的了，除非需要反编译jar文件，否则不会创建其他文件夹。反编译后的文件夹会在mod_name/下创建jar文件夹。

* `output/source/English/` (源代码目录)

* `output/source/English/` (JAR文件)

* `output/source/English/` (JAR反编译输出)

* `output/source/Chinese/` (源代码目录)

* `output/source/Chinese/` (JAR文件)

* `output/source/Chinese/` (JAR反编译输出)

* `output/source_backup/English/` (源代码目录)

* `output/source_backup/English/` (JAR文件)

* `output/source_backup/English/` (JAR反编译输出)

* `output/source_backup/Chinese/` (源代码目录)

* `output/source_backup/Chinese/` (JAR文件)

* `output/source_backup/Chinese/` (JAR反编译输出)

* `output/rule/English/` (存放字符串映射规则文件 + mod\_info.json)

* `output/rule/Chinese/` (存放字符串映射规则文件 + mod\_info.json)

* `output/Extract_Chinese/` (提取出的中文字符串映射规则文件 + mod\_info.json)

* `output/Extract_English/` (提取出的英文字符串映射规则文件 + mod\_info.json)

* `output/Extend_en2zh/` (英文被映射成中文的文件目录 + 字符串映射规则文件(Chinese\_mappings.yaml，提取的是被映射后目录的中文字符串映射规则文件，查询那些字符串没有被映射成中文) + mod\_info.json 该文件夹需要提前复制被映射方的文件夹，被映射方映射指向该文件夹，原文件夹内容不会被改变)

* `output/Extend_zh2en/` (中文被映射成英文的文件目录 + 字符串映射规则文件(English\_mappings.yaml，提取的是被映射后目录的英文字符串映射规则文件，查询那些字符串没有被映射成英文) + mod\_info.json 该文件夹需要提前复制被映射方的文件夹，被映射方映射指向该文件夹，原文件夹内容不会被改变)
  mod_name为放入的文件夹名，这个文件夹的名字需要通过解析mod_info.json文件获取。一般情况为mod_info.json文件中"name"字段的值加上version字段的值。
  以上文件夹均不会被破坏，如果测试过程中文件夹被破坏，那么该步骤的路径选择就一定是错的，需要修改程序。

# 本地化工具框架介绍

***

## 1.1 Extract模式，执行提取流程

**Extract模式**分为两个模式，**简洁模式**和**完整模式**。

### 简洁模式

**简洁模式**字符串提取：自动根据 `Localization_File\source` 匹配具体流程

1. 英文提取流程：

   * 创建文件夹

   * 重命名模组文件夹

   * 字符串提取

   * 生成报告

2. 中文提取流程：

   * 创建文件夹

   * 重命名模组文件夹

   * 字符串提取

   * 生成报告

### 完整模式

**完整模式**字符串提取：经过用户选择根据 `Localization_File\source` 匹配具体流程，用户可以选择提取英文或中文到**映射规则文件**。

#### English文件夹字符串提取

会先检测src文件夹是否存在且是否存在内容：

* 如果存在内容且只有英文，提取src文件夹字符串；

* 如果存在内容但不是只有英文或不存在，尝试反编译jar到jar文件夹，提取jar文件夹里的英文字符串。

1.1.1.1 已有英文src文件夹提取流程：

* 创建文件夹

* 重命名模组文件夹

* 提取字符串

* 保存到映射规则文件

* 生成报告

1.1.1.2 没有英文src文件夹提取流程：

* 创建文件夹

* 重命名模组文件夹

* 反编译jar(JAR没有汉化)

* 提取字符串

* 保存到映射规则文件

* 生成报告

#### Chinese文件夹字符串提取

会先检测src文件夹是否存在且是否存在内容：

* 如果存在内容且有中文，提取src文件夹字符串；

* 如果存在内容但没有中文或不存在，尝试反编译jar到jar文件夹，提取jar文件夹里的中文字符串。

1.1.2.1 已有中文src文件夹提取流程：

* 创建文件夹

* 重命名模组文件夹

* 提取字符串

* 保存到映射规则文件

* 生成报告

1.1.2.2 没有中文src文件夹提取流程：

* 创建文件夹

* 重命名模组文件夹

* 反编译jar(JAR已经汉化)

* 提取字符串

* 保存到映射规则文件

* 生成报告

***

## 1.2 Extend模式，执行映射流程

利用mod\_info.json - mod信息文件 提供的id的匹配文件夹。

恢复备份：`Localization_File\source_backup` 为备份文件夹，`Localization_File\source` 为源文件夹。删除对应mod文件夹的src文件夹，恢复对应mod文件夹的src文件夹。

**Extend模式**分为两个模式，**简洁模式**和**完整模式**。

### 简洁模式

**简洁模式**字符串映射：自动根据 `Localization_File\source` 匹配具体流程

1. 英文映射中文流程：

   * 创建文件夹

   * 重命名模组文件夹

   * 恢复备份

   * 字符串映射

   * 生成报告

2. 中文映射英文流程：

   * 创建文件夹

   * 重命名模组文件夹

   * 恢复备份

   * 字符串映射

   * 生成报告

### 完整模式

**完整模式**字符串映射：经过用户选择根据 `Localization_File\source` 匹配具体流程，用户可以选择映射英文到中文或中文到英文。

英文映射中文流程：

* 创建文件夹

* 重命名模组文件夹

* 恢复备份

* 字符串映射

* 生成报告

1.2.1.1 已有中文src文件夹映射流程：

* 创建文件夹

* 重命名模组文件夹

* 恢复备份

* 字符串映射

* 生成报告

1.2.1.2 没有中文src文件夹映射流程：

* 创建文件夹

* 重命名模组文件夹

* 恢复备份

* 反编译jar(JAR已经汉化)

* 字符串映射

* 生成报告

1.2.1.3 已有中文映射规则文件流程：

* 创建文件夹

* 重命名模组文件夹

* 恢复备份

* 使用中文映射规则

* 字符串映射

* 生成报告

中文映射英文流程：

* 创建文件夹

* 重命名模组文件夹

* 恢复备份

* 字符串映射

* 生成报告

1.2.2.1 已有英文src文件夹映射流程：

* 创建文件夹

* 重命名模组文件夹

* 恢复备份

* 字符串映射

* 生成报告

1.2.2.2 没有英文src文件夹映射流程：

* 创建文件夹

* 重命名模组文件夹

* 恢复备份

* 反编译jar(JAR没有汉化)

* 字符串映射

* 生成报告

1.2.2.3 已有英文映射规则文件流程：

* 创建文件夹

* 重命名模组文件夹

* 恢复备份

* 使用英文映射规则

* 字符串映射

* 生成报告

***

## 2. 新前置检查

```text
============================================
                本地化工具
============================================
📌 【前置检查】请确认已按以下结构存放文件：
主目录/Localization_File/
├─ source/English/(src/jar) ｜ 英文源文件
├─ source/Chinese/(src/jar) ｜ 中文源文件
├─ rule/(可选)               ｜ 映射规则文件
└─ output/(自动生成)         ｜ 结果输出区
💡 忘记结构？输入「help」查看详细引导，输入「start」进入主菜单
============================================
输入指令(help/start)：
```

***

## 3. 新的提取结束页面

```text
🎉 操作完成！所有结果已保存至：
👉 输出路径：D:/主目录/Localization_File/output/Extract_English/20251212_220500_Aptly Simple Hullmods 2.1.2c/
📂 文件夹内包含：
   1. English_mappings.json - 字符串映射规则文件(可用于Extend模式)
   2. English_mappings.yaml - 字符串映射规则文件(可用于Extend模式)
   3. extract_20251212_220500_report.json - 流程报告(含检测结果、执行步骤、耗时)
   4. mod_info.json - mod信息文件(可用于Extend模式)
💡 小贴士：
   - 若需映射，可将 English_mappings.json 或 English_mappings.yaml + mod_info.json复制到rule/English/Aptly Simple Hullmods 2.1.2c
   - 报告中若标「⚠️」，代表jar反编译时跳过了无效文件，不影响结果
============================================
输入「back」返回主菜单，输入「open」直接打开输出文件夹：
```

***

## 4. 新的映射结束页面

```text
🎉 操作完成！所有结果已保存至：
👉 输出路径：D:/主目录/Localization_File/output/Extend_en2zh/20251212_220500_Aptly Simple Hullmods 2.1.2c   
📂 文件夹内包含：
   1. 被映射的Mod文件夹(Aptly Simple Hullmods 2.1.2c) - 映射后的源文件夹
   2. Chinese_mappings.json - 字符串映射规则文件(可用于Extend模式)由被映射后的src文件夹提取
   3. Chinese_mappings.yaml - 字符串映射规则文件(可用于Extend模式)由被映射后的src文件夹提取
   4. extend_20251212_220500_report.json - 流程报告(含检测结果、执行步骤、耗时)
   5. mod_info.json - mod信息文件(可用于Extend模式)
💡 小贴士：
   - 若需映射，可将 Chinese_mappings.json 或 Chinese_mappings.yaml + mod_info.json复制到rule/Chinese/Aptly Simple Hullmods 2.1.2c   
   - 报告中若标「⚠️」，代表jar反编译时跳过了无效文件，不影响结果
============================================
输入「back」返回主菜单，输入「open」直接打开输出文件夹：
```

***

## 5. 具体文件位置介绍

在 `Localization_File\output\` 下
`Extract_English` 或 `Extract_Chinese` 或 `Extend_zh2en` 或 `Extend_en2zh` 作为对应功能的对应结果文件夹输出位置
例如：

### Extract模式：

`Localization_File\output\Extract_English\20251212_220500_Aptly Simple Hullmods 2.1.2c`，文件夹下包含：

1. `English_mappings.json` - 字符串映射规则文件(可用于Extend模式)
2. `English_mappings.yaml` - 字符串映射规则文件(可用于Extend模式)
3. `extract_20251212_214148_report.json` - 流程报告(含检测结果、执行步骤、耗时)
4. 提取mod文件夹的 `mod_info.json`

`Localization_File\output\Extract_Chinese\20251212_220500_Aptly Simple Hullmods 2.1.2c`，文件夹下包含：

1. `Chinese_mappings.json` - 字符串映射规则文件(可用于Extend模式)
2. `Chinese_mappings.yaml` - 字符串映射规则文件(可用于Extend模式)
3. `extract_20251212_214148_report.json` - 流程报告(含检测结果、执行步骤、耗时)
4. 提取mod文件夹的 `mod_info.json`

### Extend模式：

`Localization_File\output\Extend_zh2en\20251212_220500_Aptly Simple Hullmods 2.1.2c`，文件夹下包含：

1. 除了被映射的src文件夹，其他内容均与原文件夹相同
2. `English_mappings.json` - 字符串映射规则文件(可用于Extend模式)由被映射后的src文件夹提取
3. `English_mappings.yaml` - 字符串映射规则文件(可用于Extend模式)由被映射后的src文件夹提取
4. `extend_20251212_220500_report.json` - 流程报告(含检测结果、执行步骤、耗时)

`Localization_File\output\Extend_en2zh\20251212_220500_Aptly Simple Hullmods 2.1.2c`，文件夹下包含：

1. 除了被映射的src文件夹，其他内容均与原文件夹相同
2. `Chinese_mappings.json` - 字符串映射规则文件(可用于Extend模式)由被映射后的src文件夹提取
3. `Chinese_mappings.yaml` - 字符串映射规则文件(可用于Extend模式)由被映射后的src文件夹提取
4. `extend_20251212_220500_report.json` - 流程报告(含检测结果、执行步骤、耗时)

在 `Localization_File\rule\` 下
`English` 或 `Chinese` 作为对应功能的对应结果文件夹输出位置
例如；
`Localization_File\rule\Chinese\Aptly Simple Hullmods 2.1.2c`，文件夹下包含：

1. `Chinese_mappings.json` - 字符串映射规则文件(可用于Extend模式)
2. `Chinese_mappings.yaml` - 字符串映射规则文件(可用于Extend模式)
3. mod文件夹的 `mod_info.json`
   `Localization_File\rule\English\Aptly Simple Hullmods 2.1.2c`，文件夹下包含：
4. `English_mappings.json` - 字符串映射规则文件(可用于Extend模式)
5. `English_mappings.yaml` - 字符串映射规则文件(可用于Extend模式)
6. mod文件夹的 `mod_info.json`
   作为**Extend模式**的**映射规则文件**存放位置，用户手动放入对应映射规则文件夹，工具会根据文件夹里的 `mod_info.json` 里的id自动识别**映射规则**的对应映射文件夹。

***

## 6. 目录结构说明

### d:\Poki\Tool 目录结构树状图

```text
d:\Poki\Tool
├── .trae
│   ├── documents
│   └── rules
├── Localization_File
│   ├── output
│   ├── rule
│   │   ├── Chinese
│   │   │       └── Aptly Simple Hullmods 2.1.2c
│   │   └── English
│   │           └── Aptly Simple Hullmods 2.1.2c
│   ├── source
│   │   ├── Chinese
│   │   │   ├── jar
│   │   │   │   └── Aptly Simple Hullmods 2.1.2c
│   │   │   │                                └── jar
│   │   │   └── src
│   │   │       └── Aptly Simple Hullmods 2.1.2c
│   │   │                                    └── src
│   │   └── English
│   │       ├── jar
│   │       │   └── Aptly Simple Hullmods 2.1.2c
│   │       │                                └── jar
│   │       └── src
│   │           └── Aptly Simple Hullmods 2.1.2c
│   │                                        └── src
│   └── source_backup
│       ├── Chinese
│       │   ├── jar
│       │   │   └── Aptly Simple Hullmods 2.1.2c
│       │   │                                └── jar
│       │   └── src
│       │       └── Aptly Simple Hullmods 2.1.2c
│       │                                    └── src
│       └── English
│           ├── jar
│           │   └── Aptly Simple Hullmods 2.1.2c
│           │                                └── jar
│           └── src
│               └── Aptly Simple Hullmods 2.1.2c
│                                            └── src
└── Localization_Tool
    ├── analysis
    ├── config
    ├── docs
    │   └── 归档
    ├── logs
    ├── performance_reports
    ├── project
    │   ├── Extend
    │   │   ├── File
    │   │   ├── File_backup
    │   │   └── Report
    │   └── Extract
    │       ├── File
    │       ├── File_backup
    │       └── Report
    ├── resources
    │   └── languages
    ├── rule
    │   ├── Chinese
    │   └── English
    ├── scripts
    ├── src
    │   ├── common
    │   ├── extend_mode
    │   ├── extract_mode
    │   ├── localization
    │   └── performance
    ├── test_data
    └── tools
```

## 目录说明

1. **.trae/** - 包含项目文档和规则文件

   * documents：项目相关文档

   * rules：规则文件
2. **Localization\_File/** - 本地化源文件目录

   * output：结果输出区，自动生成，存放处理结果

   * rule：映射规则文件存放区，可选

   * source：包含不同语言的源代码

     * Chinese：中文源代码

       * jar：中文JAR包文件夹，包含具体的mod文件夹

       * src：中文src文件夹，包含具体的mod文件夹

     * English：英文源代码

       * jar：英文JAR包文件夹，包含具体的mod文件夹

       * src：英文src文件夹，包含具体的mod文件夹

   * source\_backup：备份文件夹，用于恢复备份

     * Chinese：中文备份

       * jar：中文JAR包备份文件夹

       * src：中文src备份文件夹

     * English：英文备份

       * jar：英文JAR包备份文件夹

       * src：英文src备份文件夹
3. **Localization\_Tool/** - 本地化工具目录

   * analysis：分析报告

   * config：配置文件

   * docs：文档

   * logs：日志文件

   * performance\_reports：性能测试报告

   * project：项目文件，包含Extend和Extract两种模式的文件

   * resources：资源文件

   * rule：规则文件

   * scripts：脚本文件

   * src：源代码

   * test\_data：测试数据

   * tools：工具依赖

### 重要说明

* `Localization_File/source` 和 `Localization_File/source_backup` 下的 `jar` 和 `src` 文件夹**不是直接操作对象**，实际操作对象是这些文件夹下的**具体mod文件夹**(如 `Aptly Simple Hullmods 2.1.2c` 和 `aptly-simple-hullmods-2.1.2c`)

* 工具会自动**递归查找**这些mod文件夹，根据 `mod_info.json` 文件中的ID进行匹配和处理

* 不同语言下的同名mod可能使用不同的文件夹命名(如中文使用空格分隔，英文使用连字符分隔)，工具会根据ID自动匹配

* 实际操作路径示例：

  * 中文mod：`d:\Poki\Tool\Localization_File\source\Chinese\jar\Aptly Simple Hullmods 2.1.2c`

  * 中文mod：`d:\Poki\Tool\Localization_File\source\Chinese\src\Aptly Simple Hullmods 2.1.2c`

  * 英文mod：`d:\Poki\Tool\Localization_File\source\English\jar\aptly-simple-hullmods-2.1.2c`

  * 英文mod：`d:\Poki\Tool\Localization_File\source\English\src\aptly-simple-hullmods-2.1.2c`

# 本地化工具 - 友好用户引导手册

(适配终端交互，全程嵌入式引导，通俗易懂+步骤化，降低操作门槛)

## 🌟 欢迎使用本地化工具！

在开始操作前，请先完成「文件夹准备」(30秒即可搞定)，工具会严格按照你存放的文件夹结构识别文件，输出内容也会统一整理到指定文件夹，全程无需手动翻找～

***

## 📂 第一步：文件根目录结构准备(必看！)

请先在电脑任意位置创建一个「文件根目录」(建议命名：`Localization_File`)，并按以下结构存放文件夹，**命名必须严格一致**(工具自动识别，错字会导致检测失败)：

```
Localization_File/ (文件根目录)
├─ source/ (源文件存放区，需你手动创建+放入文件)
│  ├─ English/ (英文源文件)
│  │  ├─ src/ (可选：已有英文源码的mod完整文件夹，放待提取/映射的英文文本文件)
│  │  └─ jar/ (可选：已有待反编译的英文jar包的mod完整文件夹，命名如AptlySimpleHullmods.jar，不同mod命名不同，需要自动搜索并反编译，放待提取/映射的英文文本jar文件)
│  └─ Chinese/ (中文源文件)
│     ├─ src/ (可选：已有中文化源码的mod完整文件夹，放待提取/映射的中文文本文件)
│     └─ jar/ (可选：已有待反编译的中文jar包的mod完整文件夹，命名如AptlySimpleHullmods.jar，不同mod命名不同，需要自动搜索并反编译，放待提取/映射的中文文本jar文件)
├─ rule/ (映射规则存放区，Extend模式专属，可选)
│  ├─ English/ (英文映射规则文件，如en_mapping.json)
│  └─ Chinese/ (中文映射规则文件，如zh_mapping.json)
└─ output/ (工具自动生成，无需创建！所有提取/映射结果+报告都在这里)
```

### ✨ 核心引导：不同模式对应哪些文件夹？

| 操作模式         | 需准备的源文件夹                                    | 工具会自动处理什么？                                    |
| ------------ | ------------------------------------------- | --------------------------------------------- |
| Extract-提取英文 | `source/English/src` 或 `source/English/jar` | 优先读src，无则反编译jar，结果存到 `output/Extract_English` |
| Extract-提取中文 | `source/Chinese/src` 或 `source/Chinese/jar` | 优先读src，无则反编译jar，结果存到 `output/Extract_Chinese` |
| Extend-中映射英  | `source/Chinese/xxx` + `rule/Chinese/xxx`   | 优先读映射规则，无则读src/jar，结果存到 `output/Extend_zh2en` |
| Extend-英映射中  | `source/English/xxx` + `rule/English/xxx`   | 优先读映射规则，无则读src/jar，结果存到 `output/Extend_en2zh` |

***

## 🚀 第二步：操作中的文件夹引导(终端嵌入式提示)

### 1. 启动工具时的引导(主菜单前显示)

```text
============================================
                本地化工具
============================================
📌 【前置检查】请确认已按以下结构存放文件：
主目录/Localization_File/
├─ source/English/(src/jar) ｜ 英文源文件
├─ source/Chinese/(src/jar) ｜ 中文源文件
├─ rule/(可选)               ｜ 映射规则文件
└─ output/(自动生成)         ｜ 结果输出区
💡 忘记结构？输入「help」查看详细引导，输入「start」进入主菜单
============================================
输入指令(help/start)：
```

### 2. 选择模式后的文件夹检查引导(示例：选Extract模式)

```text
============================================
       Extract模式 - 简洁模式(自动检测)
============================================
🔍 正在检测主目录下的source/English文件夹...
✅ 检测到source/English/src文件夹(含英文文本)，将优先提取此处内容
❌ 若未检测到src，会自动反编译source/English/jar下的未汉化jar包
📤 提取结果将保存到：主目录/Localization_File/output/Extract_English/
   包含：字符串映射规则文件 + 流程报告 + mod_info.json
============================================
请选择提取语言：
1. 提取英文(优先检测src/无则反编译未汉化jar)
2. 提取中文(优先检测src/无则反编译已汉化jar)
============================================
输入数字(1/2，直接回车默认选1)：
```

### 3. 自定义路径时的引导(高级模式专属)

```text
============================================
       高级模式 - 输出路径配置
============================================
💡 默认输出路径：主目录/Localization_File/output/
   如需自定义，请输入绝对路径(如D:/主目录/Localization_File/My_Output)
   直接回车使用默认路径(推荐！自动按模式分类，不易乱)
============================================
输入输出路径(直接回车用默认)：
```

***

## 📤 第三步：操作完成后的输出文件夹引导

### 1. Extract模式输出文件夹

#### 提取英文

流程执行完毕后，终端立即显示：

```text
🎉 操作完成！所有结果已保存至：
👉 输出路径：D:/主目录/Localization_File/output/Extract_English/20251212_220500_Aptly Simple Hullmods 2.1.2c/
📂 文件夹内包含：
   1. English_mappings.json - 字符串映射规则文件(可用于Extend模式)
   2. English_mappings.yaml - 字符串映射规则文件(可用于Extend模式)
   3. extract_20251212_220500_report.json - 流程报告(含检测结果、执行步骤、耗时)
   4. mod_info.json - mod信息文件(可用于Extend模式)
💡 小贴士：
   - 若需映射，可将 English_mappings.json或English_mappings.yaml + mod_info.json复制到rule/English/Aptly Simple Hullmods 2.1.2c
   - 报告中若标「⚠️」，代表jar反编译时跳过了无效文件，不影响结果
============================================
输入「back」返回主菜单，输入「open」直接打开输出文件夹：
```

#### 提取中文

流程执行完毕后，终端立即显示：

```text
🎉 操作完成！所有结果已保存至：
👉 输出路径：D:/主目录/Localization_File/output/Extract_Chinese/20251212_220500_Aptly Simple Hullmods 2.1.2c/
📂 文件夹内包含：
   1. Chinese_mappings.json - 字符串映射规则文件(可用于Extend模式)
   2. Chinese_mappings.yaml - 字符串映射规则文件(可用于Extend模式)
   3. extract_20251212_220500_report.json - 流程报告(含检测结果、执行步骤、耗时)
   4. mod_info.json - mod信息文件(可用于Extend模式)
💡 小贴士：
   - 若需映射，可将 Chinese_mappings.json或Chinese_mappings.yaml + mod_info.json复制到rule/Chinese/Aptly Simple Hullmods 2.1.2c
   - 报告中若标「⚠️」，代表jar反编译时跳过了无效文件，不影响结果
============================================
输入「back」返回主菜单，输入「open」直接打开输出文件夹：
```

### 2. Extend\_模式输出文件夹

#### 扩展英文到中文

流程执行完毕后，终端立即显示：

```text
🎉 操作完成！所有结果已保存至：
👉 输出路径：D:/主目录/Localization_File/output/Extend_en2zh/20251212_220500_Aptly Simple Hullmods 2.1.2c
📂 文件夹内包含：
   1. 被映射的Mod文件夹(Aptly Simple Hullmods 2.1.2c) - 映射后的源文件夹
   2. Chinese_mappings.json - 字符串映射规则文件(可用于Extend模式)由被映射后的src文件夹提取
   3. Chinese_mappings.yaml - 字符串映射规则文件(可用于Extend模式)由被映射后的src文件夹提取
   4. extend_20251212_220500_report.json - 流程报告(含检测结果、执行步骤、耗时)
   5. mod_info.json - mod信息文件(可用于Extend模式)
💡 小贴士：
   - 若需映射，可将 Chinese_mappings.json 或 Chinese_mappings.yaml + mod_info.json复制到rule/Chinese/Aptly Simple Hullmods 2.1.2c
   - 报告中若标「⚠️」，代表jar反编译时跳过了无效文件，不影响结果
============================================
输入「back」返回主菜单，输入「open」直接打开输出文件夹：
```

#### 扩展中文到英文

流程执行完毕后，终端立即显示：

```text
🎉 操作完成！所有结果已保存至：
👉 输出路径：D:/主目录/Localization_File/output/Extend_zh2en/20251212_220500_Aptly Simple Hullmods 2.1.2c
📂 文件夹内包含：
   1. 被映射的Mod文件夹(Aptly Simple Hullmods 2.1.2c) - 映射后的源文件夹
   2. English_mappings.json - 字符串映射规则文件(可用于Extend模式)由被映射后的src文件夹提取
   3. English_mappings.yaml - 字符串映射规则文件(可用于Extend模式)由被映射后的src文件夹提取
   4. extend_20251212_220500_report.json - 流程报告(含检测结果、执行步骤、耗时)
   5. mod_info.json - mod信息文件(可用于Extend模式)
💡 小贴士：
   - 若需映射，可将 English_mappings.json 或 English_mappings.yaml + mod_info.json复制到rule/English/Aptly Simple Hullmods 2.1.2c
   - 报告中若标「⚠️」，代表jar反编译时跳过了无效文件，不影响结果
============================================
输入「back」返回主菜单，输入「open」直接打开输出文件夹：
```

***

## ❓ 常见问题 & 温馨提示

### Q1：工具提示“未检测到src/jar文件夹”怎么办？

👉 检查：

1. **Localization\_File**是否有`source/English/`或`source/Chinese/`文件夹；
2. **文件夹命名是否完全一致(区分大小写！如“english”≠“English”)**；
3. **jar文件夹是否放入对应文件夹(英文jar文件夹放English/jar，中文jar文件夹放Chinese/jar)**。

### Q2：输出文件夹里没有内容？

👉 大概率是源文件为空！检查source/xxx/src下是否有文本文件，或jar包是否为有效汉化/未汉化版本。

### Q3：可以自定义源文件夹路径吗？

👉 高级模式支持！在高级模式“主体选择”后，会提示输入源文件夹自定义路径，新手推荐用默认结构～

### 💝 小建议：

* 每次操作前，把源文件按“语言+类型”分类好，工具会自动识别，不用反复调整路径；

* 输出文件夹会按“模式+语言+时间”自动命名(如Extract\_English\_20251213)，不用担心覆盖之前的结果；

* 映射规则文件建议备份到rule文件夹，下次操作可直接复用，节省时间～

***

## 📞 额外帮助

如果在文件夹准备/使用中遇到问题，输入「contact」可查看常见问题文档，或输入「debug」生成环境检测报告(含文件夹结构、文件有效性)，方便定位问题～
